<script>
    function alteraNotaConhecimento() {
        if (goSlNota.value == "nf_nume") {
            goNrNota.placeholder = "DIGITE O NÚMERO DA NOTA FISCAL";
        }
        else if (goSlNota.value == "ct_nume") {
            goNrNota.placeholder = "DIGITE O NÚMERO DO CONHECIMENTO";
        }
    }

    function alteraCnpjCpf() {
        if (goSlCnpj.value == "cnpj") {
            goTxCnpj.style.display = "";
            goTxNcpf.style.display = "none";
        }
        else if (goSlCnpj.value == "cpf") {
            goTxCnpj.style.display = "none";
            goTxNcpf.style.display = "";
        }
    }

    function rastreiaCarga() {
        if (sltCnpj.value == "cnpj" && !validaCnpj(txtCnpj.value)) {
            goDvErro.style.display = "";
            goDvErro.innerHTML = "CNPJ INVÁLIDO";
            return;
        }
        else if (goSlCnpj.value == "cpf" && !validaCpf(txtNcpf.value)) {
            goDvErro.style.display = "";
            goDvErro.innerHTML = "CPF INVÁLIDO";
            return;
        }

        if (goNrNota.value.trim() == "") {
            goDvErro.style.display = "";

            if (goSlNota.value == "nf_nume") { goDvErro.innerHTML = "NÚMERO DA NOTA FISCAL INVÁLIDO"; }
            else if (goSlNota.value == "ct_nume") { goDvErro.innerHTML = "NÚMERO DO CONHECIMENTO INVÁLIDO"; }

            return;
        }

        goDvErro.style.display = "none";
        goDvErro.innerHTML = "";
    }

    //@ sourceURL=RasCar1.js
</script>

<div class="panel panel-primary">
    <div class="panel-heading">RASTREIE SUA CARGA</div>
    <div class="panel-body">
        <table style="width: 100%;">
            <tr>
                <td colspan="2">
                    <select class="form-control">
                        <option>DESTINATÁRIO</option>
                        <option>REMETENTE</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    &nbsp;
                </td>
            </tr>
            <tr>
                <td>
                    <select id="sltCnpj" class="form-control" onchange="alteraCnpjCpf();">
                        <option value="cnpj">CNPJ</option>
                        <option value="cpf">CPF</option>
                    </select>
                </td>
                <td>
                    <input id="txtCnpj" type="text" class="form-control maskCnpj" placeholder="DIGITE O CNPJ">
                    <input id="txtNcpf" type="text" class="form-control maskNcpf" placeholder="DIGITE O CPF" style="display: none;">
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    &nbsp;
                </td>
            </tr>
            <tr>
                <td>
                    <select id="sltNota" class="form-control" onchange="alteraNotaConhecimento();">
                        <option value="nf_nume">NOTA FISCAL</option>
                        <option value="ct_nume">CONHECIMENTO</option>
                    </select>
                </td>
                <td>
                    <input id="nroNota" type="number" class="form-control" placeholder="DIGITE O NÚMERO DA NOTA FISCAL">
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    &nbsp;
                </td>
            </tr>
            <tr>
                <td colspan="2" style="text-align: right;">
                    <button id="btnRast" type="button" class="btn btn-primary" style="border-radius: 4px !important;" onclick="rastreiaCarga();">RASTREAR</button>
                </td>
            </tr>
        </table>
    </div>
</div>
<br />
<div id="divErro" class="alert alert-danger" role="alert" style="display: none;"></div>
<br />
<div class="panel panel-primary">
    <div class="panel-heading">CONHECIMENTO</div>
    <div class="panel-body">
        <table style="width: 100%;">
            <tr>
                <td>
                    NÚMERO DO CONHECIMENTO:
                </td>
                <td>
                    <b><span id="spnCtrc"></span></b>
                </td>
                <td>
                    DATA EMISSÃO:
                </td>
                <td>
                    <b><span id="spnData"></span></b>
                </td>
            </tr>
            <tr>
                <td colspan="4">
                    &nbsp;
                </td>
            </tr>
            <tr>
                <td>
                    FILIAL ORIGEM:
                </td>
                <td>
                    <b><span id="spnFlor"></span></b>
                </td>
                <td>
                    FILIAL DESTINO:
                </td>
                <td>
                    <b><span id="spnFldt"></span></b>
                </td>
            </tr>
            <tr>
                <td colspan="4">
                    &nbsp;
                </td>
            </tr>
            <tr>
                <td>
                    TIPO DE FRETE:
                </td>
                <td>
                    <b><span id="spnTfre"></span></b>
                </td>
                <td>
                    VALOR:
                </td>
                <td>
                    <b><span id="spnTota"></span></b>
                </td>
            </tr>
            <tr>
                <td colspan="4">
                    &nbsp;
                </td>
            </tr>
            <tr>
                <td colspan="4">
                    <div class="panel panel-primary">
                        <div class="panel-heading">REMETENTE</div>
                        <div class="panel-body">
                            <table style="width: 100%;">
                                <tr>
                                    <td>
                                        NOME:
                                    </td>
                                    <td>
                                        <b><span id="spnNomr"></span></b>
                                    </td>
                                    <td>
                                        CNPJ/CPF:
                                    </td>
                                    <td>
                                        <b><span id="spnCgcr"></span></b>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td colspan="4">
                    <div class="panel panel-primary">
                        <div class="panel-heading">DESTINATÁRIO</div>
                        <div class="panel-body">
                            <table style="width: 100%;">
                                <tr>
                                    <td>
                                        NOME:
                                    </td>
                                    <td>
                                        <b><span id="spnNomd"></span></b>
                                    </td>
                                    <td>
                                        CNPJ/CPF:
                                    </td>
                                    <td>
                                        <b><span id="spnCgcd"></span></b>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td colspan="4">
                    <div class="panel panel-primary">
                        <div class="panel-heading">NOTAS FISCAIS</div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-md-4"><b>NR. NF.</b></div>
                                <div class="col-md-4"><b>PESO KG</b></div>
                                <div class="col-md-4"><b>QT. VOLUME</b></div>
                                <div class="col-md-4">.col-md-4</div>
                                <div class="col-md-4">.col-md-4</div>
                                <div class="col-md-4">.col-md-4</div>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>
<script>
    var goSlCnpj = document.getElementById("sltCnpj");
    var goTxCnpj = document.getElementById("txtCnpj");
    var goTxNcpf = document.getElementById("txtNcpf");
    var goSlNota = document.getElementById("sltNota");
    var goNrNota = document.getElementById("nroNota");
    var goDvErro = document.getElementById("divErro");

    $(function ($) {
        $(".maskCnpj").mask("99.999.999/9999-99");
        $(".maskNcpf").mask("999.999.999-99");
    });

    enterTeclado2("txtCnpj", "nroNota");
    enterTeclado2("txtNcpf", "nroNota");
    enterTeclado3("nroNota", "btnRast", "btnRast");
</script>